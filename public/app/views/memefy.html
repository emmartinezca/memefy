<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <div class="panel panel-default">
            <div class="panel-body">
                <form name="createPostForm" ng-submit="createPost(post.picture)" novalidate>
                    <div class="form-group">
                        <textarea class="form-control" ng-model="post.content" placeholder="Post something..." style="resize:none"></textarea>

                        <div class="row">
                            <div class="btn-group col-sm-3">
                                <label class="btn btn-default btn-file">
                                    <i class="fa fa-fw fa-camera"></i><input type="file" ngf-select ng-model="post.picture" name="file"
                                    accept="image/*" ngf-max-size="2MB" required
                                    ngf-model-invalid="errorFile" class="btn-media">
                                </label>
                                <button class="btn btn-default btn-media" type="button"><i class="fa fa-fw fa-video-camera"></i></button>
                            </div>
                            <div class="col-sm-3 col-sm-offset-6">
                                <button class="btn btn-primary pull-right" type="submit">Post</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-12">
                                <img ng-show="createPostForm.file.$valid" ngf-thumbnail="post.picture" class="img-thumbnail img-preview">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<br>
<div class="row">
    <div class="col-md-8 col-md-offset-2" ng-repeat="post in posts track by $index">
        <div class="panel panel-default">
            <div class="panel-heading">
                <img ng-src="/storage/{{ post.user.image }}" class="img-rounded" style="max-height:30px;">&nbsp;&nbsp;&nbsp;{{ post.user.name }}
            </div>
            <div class="panel-body">
                {{ post.content }}
                <div ng-if="post.photos.length > 0">
                    <img ng-repeat="photo in post.photos track by $index" ng-src="/storage/{{ photo.filename }}" class="img-responsive img-rounded">
                </div>
                <div class="row">
                    <div class="btn-group col-sm-3">
                        <button class="btn btn-default btn-social" type="button" ng-click="like(post.id)"><i class="fa fa-fw fa-heart"></i></button>
                        <button class="btn btn-default btn-social" type="button"><i class="fa fa-fw fa-like"></i></button>
                        <button class="btn btn-default btn-social" type="button"><i class="fa fa-fw fa-like"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
